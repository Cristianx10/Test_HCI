<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Test Interactivo</title>
    <link rel="shortcut icon" href="../includes/img/favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="../sass/general/main.css" />
    <link href="../sass/tipographys/tipografias.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">
    <link rel="stylesheet" href="../sass//general/porcentaje.css">

    <style>
        .presultados {
            display: flex;
            flex-wrap: wrap;
        }

        .resultado__cuadro {
            width: 215px;
            height: 116px;
        }

        .mayores {
            width: 340px;
            height: 161px;
        }

        .presultados {
            width: 770px;
        }

        .cont__resultados {
            display: flex;

        }
    </style>

</head>

<body>
    <div class="cont-principal" style="background-image: url('/img/background-oscuro.png')">
        <div class="principal" onselectstart="return false" style="border: none;">

            <h1 class="titulo">Resultados</h1>
            <div class="cont__resultados">
                <div class="presultados">

                </div>
                <div class="pmayorresultado">

                </div>
            </div>

            <div class="zona__navegacion">
                <button class="btn_siguiente" style="text-align:center;" onclick="seguir()">Siguiente</button>
            </div>

        </div>

    </div>


    <!--Codigo de precarga -->


    <!--
<script src="../lib//colorMixer.js"></script>
<script src="../lib/jquery-ui.min.js"></script>
<script src="../lib/jquery.svg.js"></script>


<script src="../lib/easeljs.js"></script>
<script src="../lib/tweenjs.js"></script>
-->

    <!--Obligatorio -->
    <script src="../lib/preloadjs.js"></script>
    <script src="../lib/jquery.js"></script>
    <script src="../lib/jquery.knob.js"></script>
    <script src="../lib/soundjs.js"></script>
    <script src="../js/timer.js"></script>
    <script src="../js/resultados.js"></script>
    <script src="../js/main.js"></script>

    <script type="text/javascript">

        let areas = resultados.getAreas(["diseño", "deportes", "ingenieria", "salud", "educacion", "fuerza publica", "arte", "ciencia"]);
        let maximos = resultados.getAreasMaximo(["diseño", "deportes", "ingenieria", "salud", "educacion", "fuerza publica", "arte", "ciencia"]);


        let colores = {};
        colores["ciencias"] = "#63D1B7";
        colores["arte"] = "#EF6BAA";
        colores["fuerza"] = "#FF7373";
        colores["educacion"] = "#5BC5D3";
        colores["deportes"] = "#FDF441";
        colores["salud"] = "#FFBF74";
        colores["diseño"] = "#BA76F0";
        colores["ingenieria"] = "#6883E4";

        let profesion = {};
        profesion["ciencias"] = "cientifico";
        profesion["arte"] = "artista";
        profesion["fuerza"] = "militar";
        profesion["educacion"] = "maestro/a";
        profesion["deportes"] = "deportista";
        profesion["salud"] = "especialista en la salud";
        profesion["diseño"] = "diseñador";
        profesion["ingenieria"] = "ingeniero/a";

        let nombres = {};
        nombres["ciencias"] = "ciencias";
        nombres["arte"] = "arte";
        nombres["fuerza"] = "fuerza";
        nombres["educacion"] = "educación";
        nombres["deportes"] = "deportes";
        nombres["salud"] = "salud";
        nombres["diseño"] = "diseño";
        nombres["ingenieria"] = "ingeniería";


        let iconos = {};
        iconos["ciencia"] = "../includes/iconos/ciencias.svg";
        iconos["arte"] = "../includes/iconos/arte.svg";
        iconos["fuerza"] = "../includes/iconos/fuerzaspublicas.svg";
        iconos["educacion"] = "../includes/iconos/educacion.svg";
        iconos["deportes"] = "../includes/iconos/deporte.svg";
        iconos["salud"] = "../includes/iconos/salud.svg";
        iconos["diseño"] = "../includes/iconos/diseno.svg";
        iconos["ingenieria"] = "../includes/iconos/ingenieria.svg";


        areas.forEach((a)=>{
            let max = resultados.getMaximo(a.area);
            let simpli = a.area.split(" ");
            a.porcentaje = Math.round((a.valor * 100) / max.valor);
            a.color = colores[simpli[0]];
            a.icono = iconos[simpli[0]];
            a.profesion = profesion[simpli[0]];
            a.nombres = nombres[simpli[0]];
        });



        areas.sort((a, b) => {
            if (a.porcentaje > b.porcentaje) {
                return -1;
            }
            if (a.porcentaje < b.porcentaje) {
                return 1;
            }
            return 0;
        });



        areas.forEach((e, index) => {

            let resultadoc = new VerResultado();
           
            resultadoc.cambiarColor(e.color);

            let name = e.area;
       
            resultadoc.generar(name, e.porcentaje, e.icono, e.nombres);

            $(".presultados").append(resultadoc.getElemento());

            if (index == 0) {
                document.querySelector(".pmayorresultado").append(resultadoc.felicidades(e.profesion));
                resultadoc.activar();
            }else if(index == 1){
                resultadoc.activar();
            }
        });
   


        let vals = document.querySelectorAll(".resultado__cuadro");
        vals[0].classList.add("mayores");
        vals[1].classList.add("mayores");

        vals.forEach((v, index) => {
            let width = 80;
            let height = 80

            if (index < 2) {
                
                v.classList.add("mayores");
                width = 100;
                height = 100;
            }

            let simpli = areas[index].area.split(" ");
            console.log(simpli)

            $("#" + simpli[0]).knob({
                min: 0,
                max: 100,
                width: width,
                height: height,
                fgColor: colores[simpli[0]],
                // angleOffset:0,
                thickness: ".25",
                readOnly: true,
                displayInput: false
            });

        });
  


    </script>




</body>

</html>
