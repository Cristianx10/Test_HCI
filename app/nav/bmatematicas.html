<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Test Interactivo</title>
    <link rel="shortcut icon" href="../includes/img/favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="../sass/general/main.css" />
    <link href="../sass/tipographys/tipografias.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">

    <link rel="stylesheet" href="../sass/aplicaciones/targetas.css" />

</head>

<body>
    <div class="cont-principal" style="background-image: url('../img/background_principal-2.png')">
        <div class="principal" onselectstart="return false">

            <div class="pantalla ppreguntas">

                <div class="pantalla pinicio" style="background-image: url('../img/Principal Lógico Matemática.png')">
                    <div class="introduccion">
                        <h1 class="titulo">Inteligencia Lógico Matemática</h1>
                        <p id="desc" class="descripcion">En esta sección de la prueba se evaluará tus conocimientos en
                            el área Lógico Matemática</p>
                        <button class="botonComenzar" onclick="seguir()">Comenzar</button>
                    </div>
                </div>

            </div>

            <div class="secuencias">
                <style>
                    .secuencias {
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        width: 100%;
                        height: 100%;
                        margin: auto;
                    }

                    .secuencia {
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        width: 100%;
                        height: 80%;
                        margin: auto;
                    }

                    .tabla {
                        width: 100%;
                    }

                    .contenedor__imagen {
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        width: 250px;
                        height: 250px;
                    }

                    img {
                        transition: all .5s ease;
                        width: 150px;
                        height: 150px;
                    }

                    .contenedor__imagen img:hover {
                        transition: all .5s ease;
                        width: 250px;
                        height: 250px;
                    }

                    .tabla__secuencia {
                        display: flex;
                        width: 100%;
                        padding: 100px;
                        justify-content: space-around;
                        flex-wrap: wrap;
                    }

                    .selecionado {
                        border: 15px solid lightgreen;
                        border-radius: 130px;
                    }

                    .selecionado img {
                        width: 190px;
                        height: 200px;
                    }
                </style>
            </div>
            <div class="zona__navegacion" style="display:none;">
                <button class="btn_siguiente" style="text-align:center;" disabled onclick="seguir()">Siguiente</button>
            </div>

        </div>
    </div>

    <!--Codigo de precarga -->
    <script src="../lib/jquery.js"></script>

    <!--
  <script src="../lib//colorMixer.js"></script>
 
  <script src="../lib/jquery.svg.js"></script>
  <script src="../lib/jquery.knob.js"></script>
  
  <script src="../lib/tweenjs.js"></script>
  -->
    <script src="../lib/preloadjs.js"></script>
    <script src="../lib/easeljs.js"></script>
    <script src="../lib/soundjs.js"></script>

    <script src="../js/timer.js"></script>
    <script src="../js/resultados.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/pregunta.js"></script>

    <!--Interacciones complejas-->

    <script src="../../js/secuencia.js"></script>


    <script type="text/javascript">
        $(document).ready(function () {
            // irA("./formulario.html");
        });
       $('.cont-principal').css("background-image", "url('../img/background-claro.png')");
        let contenedor = new Contenedor();
        let navegacion = new Navegable(contenedor);
        var matematica = new PreguntaA("La Empresa Eléctrica va instalar postes equidistantes cada 5m a lo largo de un pasaje de 95m de tal forma que haya uno al inicio y otro al final. Además emplean 15 minutos para colocar cada poste. ¿Cuánto tiempo demorarán en colocar todos los postes?")
        matematica.agregar("4 horas y 45 minutos", []);
        matematica.agregar("5 horas", [{ area: "Diseño", valor: 30 }, { area: "Deportes", valor: 10 }, { area: "Ingenieria", valor: 90 }, { area: "Salud", valor: 50 }, { area: "Educacion", valor: 50 }, { area: "Fuerza publica", valor: 10 }, { area: "Arte", valor: 20 }, { area: "Ciencia", valor: 80 }
        ]);
        matematica.agregar("3 horas", []);
        matematica.agregar("2 horas y 30 minutos", []);
        var matematica2 = new PreguntaA("Determina el valor entero más grande posible de n para que 2^n divida a 50^8")
        matematica2.agregar("2", []);
        matematica2.agregar("6", []);
        matematica2.agregar("8", [{ area: "Diseño", valor: 30 }, { area: "Deportes", valor: 10 }, { area: "Ingenieria", valor: 90 }, { area: "Salud", valor: 50 }, { area: "Educacion", valor: 50 }, { area: "Fuerza publica", valor: 10 }, { area: "Arte", valor: 20 }, { area: "Ciencia", valor: 80 }
        ]);
        matematica2.agregar("10", []);
        var matematica3 = new PreguntaA("Si x^2 =3 a que es igual x^6?")
        matematica3.agregar("9", []);
        matematica3.agregar("6", []);
        matematica3.agregar("27", [{area:"Diseño",  valor:30},{area:"Deportes",  valor:10},{area:"Ingenieria",  valor:90},{area:"Salud",  valor:50},{area:"Educacion",  valor:50},{area:"Fuerza publica",  valor:10},{area:"Arte",  valor:20},{area:"Ciencia",  valor:80}
]);
        matematica3.agregar("10", []);
        var matematica4 = new PreguntaD("¿Del 1 al 3, qué que tan bien crees que te fue en esta prueba?");
        matematica4.agregar("1", []);
        matematica4.agregar("2", []);
        matematica4.agregar("3", []);
        contenedor.agregarHTML(document.querySelector('.pinicio'));
        contenedor.agregar(matematica.getPregunta(),40).setAccion(function () {
            navegacion.colocarTiempo();
            navegacion.colocarProgreso();
            mostrar(".zona__navegacion");
        });
        contenedor.agregar(matematica2.getPregunta(),40).setAccion(function () {
        });
        contenedor.agregar(matematica3.getPregunta(),40).setAccion(function () {
        });
        contenedor.agregar(matematica4.getPregunta(),40).setAccion(function () {
            siguiente.disabled = false;
            console.log("aaa");
        });
      contenedor.agregarHTML(document.querySelector(".secuencias")).setAccion(() => {

            loadJson("../../data/ciencias/secuencias.json", (r) => {
                let secuencias = [];
                let actual = 0;
                let nactual = 0;
                let s = r.secuencias;
                let base = document.querySelector(".secuencia");
                for (let i = 0; i < s.length; i++) {
                    let e = s[i];
                    let se = new Secuencias();
                    for (let j = 0; j < e.recursos.length; j++) {
                        let re = e.recursos[j];
                        let ima = document.createElement('img');
                        ima.src = re.src;
                        se.agregar(ima, re.tiempo);
                    }
                    secuencias.push(se);
                }
                secuencias.forEach((secuencia, index) => {
                    secuencia.crearTablero();
                    secuencia.setIntentoAcierto(() => {
                        console.log("acierto");
                    });
                    secuencia.setIntentoFallo(() => {
                        console.log("fallo");
                        secuencias[actual].terminar();

                        actual++;

                        if (actual < secuencias.length) {
                            secuencias[actual].start();
                            $(".secuencias").append(secuencias[actual].getElemento());
                        }else{
                           // seguir();
                        }
                    });
                    
                    secuencia.setValidacion((vali) => {
                        console.log("validado");

                        if (vali) {
                            console.log("gano");
                          //  seguir();
                        }
                        nactual++;
                        console.log(nactual)
                        
                        if(nactual >= 3){
                            seguir();
                        }
                     
                        secuencias[actual].terminar();
                        actual++;
                        if (actual < secuencias.length) {
                            secuencias[actual].start();
                            $(".secuencias").append(secuencias[actual].getElemento());
                        }else{
                            
                        }
                    });
                    if (index == 0) {
                        secuencia.start();
                        $(".secuencias").append(secuencia.getElemento());
                    }
                });
            });
        });
        contenedor.incluirEn(document.querySelector(".ppreguntas"));
        navegacion.iniciar();
        var siguiente = document.querySelector('.btn_siguiente');

        function seguir() {
            navegacion.setPermitir(true);
            navegacion.siguiente();
            if (navegacion.getActual() != 4) {
                siguiente.disabled = true;
            }
        }

        $(".opcion").click(() => {
            siguiente.disabled = false;
        });
        
        navegacion.setFinal(() => {
            goTo("bintraper");
        });
    </script>







</body>

</html>